<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>Starting Services</title>

    <script>
    const params = new URLSearchParams(window.location.search)
    const theme = params.get("theme") || "light"
    document.documentElement.dataset.theme = theme
    </script>

    <style>
      :root {
        --spacing-lg: 24px;
        --radius-full: 9999px;
        --font-size-md: 16px;
        --font-size-xl: 20px;
        --font-weight-semibold: 600;
        --font-family-primary: "Inter", -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
        --color-bg-primary: #ffffff;
        --color-bg-secondary: #f5f5f5;
        --color-text-primary: #2c2c2a;
        --color-text-muted: #9b9b9b;
        --color-border: #e0e0e0;
        --color-primary: #2c2c2a;
        --layout-bg: var(--color-bg-primary);
        --panel-bg: var(--color-bg-secondary);
        --panel-text-primary: var(--color-text-primary);
        --panel-text-muted: var(--color-text-muted);
      }

      [data-theme="dark"] {
        --color-bg-primary: #0f1115;
        --color-bg-secondary: #16181d;
        --color-text-primary: #e6e8eb;
        --color-text-muted: #6b7280;
        --color-border: #262a33;
        --color-primary: #6f6f6f;
      }

      [data-theme="blue-pink"] {
        --color-bg-primary: #0b1020;
        --color-bg-secondary: #151c33;
        --color-text-primary: #e0e7ff;
        --color-text-muted: #a5b4fc;
        --color-border: #0b1020;
        --color-primary: #b7639a;
      }

      [data-theme="custom"] {
        --color-bg-primary: #111111;
        --color-bg-secondary: #181818;
        --color-text-primary: #ffffff;
        --color-text-muted: #888888;
        --color-border: #2a2a2a;
        --color-primary: #4b4b4b;
      }

      html, body {
        width: 100%;
        height: 100%;
        background: var(--layout-bg);
        font-family: var(--font-family-primary);
      }

      .shell {
        width: 100%;
        height: 100%;
        background: var(--panel-bg);
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;
        gap: var(--spacing-lg);
        color: var(--panel-text-primary);
      }

      .title {
        font-size: var(--font-size-xl);
        font-weight: var(--font-weight-semibold);
      }

      .spinner {
        width: 56px;
        height: 56px;
        border-radius: var(--radius-full);
        border: 4px solid var(--color-border);
        border-top-color: var(--color-primary);
        animation: spin 1s linear infinite;
      }
      @keyframes spin {
        from {
          transform: rotate(0deg);
        }
        to {
          transform: rotate(360deg);
        }
      }

      .subtitle {
        font-size: var(--font-size-md);
        color: var(--panel-text-muted);
      }
    </style>
  </head>

  <body>
    <div class="shell">
      <div class="title">Starting services</div>
      <div class="spinner"></div>
      <div class="subtitle" id="status">Initializingâ€¦</div>
    </div>

    <script>
      window.splash.onStatus(msg => {
        document.getElementById("status").textContent = msg
      })
    </script>
  </body>
</html>
